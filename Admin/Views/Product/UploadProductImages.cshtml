@model SiteEcommerceProject.Entity.ProductModels.Product
@{
    ViewBag.Title = "UploadProductImages";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<section id="main-content">
    <section class="wrapper">
        <div class="row">
            <div class="col-lg-12">

                <div class="row">
                    <div class="col-lg-12">
                        <h3 class="page-header"><i class="fa fa-laptop"></i> Dashboard</h3>
                        <ol class="breadcrumb">
                            <li><i class="fa fa-home"></i><a href="index.html">Home</a></li>
                            <li><i class="fa fa-laptop"></i>Dashboard</li>
                        </ol>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-2">
                        <h2>Ürünlere resim ekleme</h2>

                    </div>
                </div>
                <div>
                    <div class="col-md-12">
                        @using (Ajax.BeginForm("DropzoneImage", new { id = Model.Id }, new AjaxOptions { HttpMethod = "POST" }, new { @class = "dropzone", id = "mydropzone", enctype = "multipart/form-data" })) { }

                    </div>
                    <div class="col-md-12 text-right mt-4">
                        <button type="button" class="btn btn-primary" id="uploadbutton">
                            <i class="fa fa-upload"></i> Yükle
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
</section>

@section Scripts {
    <script>
        Dropzone.autoDiscover = false;
        $(function () {
            var dz = null;
            $("#mydropzone").dropzone({
                autoProcessQueue: false,
                paramName: "productpictures",
                maxFilesize: 1, //mb
                maxThumbnailFilesize: 1, //mb
                maxFiles: 10,
                parallelUploads: 5,
                acceptedFiles: ".jpeg,png,jpg",
                uploadMultiple: true,
                addRemoveLinks: true,
                //resizeWidth: 128,

                init: function () {
                    dz = this;

                    $("#uploadbutton").click(function () {
                        dz.processQueue();
                    });
                },
                dictDefaultMessage: "Buraya görselleri sürükle bırak yapabilirsiniz..",
                    dictRemoveFile: "Dosyayı sil"
                });
                });
    </script>
}